"use strict";(self["webpackChunkjzshop9"]=self["webpackChunkjzshop9"]||[]).push([[268],{6268:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order"},[e("van-nav-bar",{attrs:{title:"我的订单","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tab",{attrs:{name:"all",title:"全部"}}),e("van-tab",{attrs:{name:"payment",title:"待支付"}}),e("van-tab",{attrs:{name:"delivery",title:"待发货"}}),e("van-tab",{attrs:{name:"received",title:"待收货"}}),e("van-tab",{attrs:{name:"comment",title:"待评价"}})],1),t._l(t.list,(function(s){return e("OrderListItem",{key:s.order_id,attrs:{item:s,totonum:t.totonum,totalPrice:t.totalPrice}})}))],2)},i=[],r=s(4180),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-list-item"},[e("div",{staticClass:"tit"},[e("div",{staticClass:"time"},[t._v(t._s(t.item.create_time))]),e("div",{staticClass:"status"},[e("span",[t._v(t._s(t.item.state_text))])])]),e("div",{staticClass:"list"},t._l(t.item.goods,(function(s){return e("div",{key:s.goods_id,staticClass:"list-item"},[e("div",{staticClass:"goods-img"},[e("img",{attrs:{src:s.goods_image,alt:""}})]),e("div",{staticClass:"goods-content text-ellipsis-2"},[t._v(" "+t._s(s.goods_name)+" ")]),e("div",{staticClass:"goods-trade"},[e("p",[t._v("¥ "+t._s(s.goods_price))]),e("p",[t._v("x "+t._s(s.total_num))])])])})),0),e("div",{staticClass:"total"},[t._v(" 共"+t._s(t.totonum)+"件商品，总金额 ¥"+t._s(t.totalPrice)+" ")]),e("div",{staticClass:"actions"},[10===t.item.order_status?e("div",[10===t.item.pay_status?e("span",[t._v("立刻付款")]):10===t.item.delivery_status?e("span",[t._v("申请取消")]):20===t.item.delivery_status||30===t.item.delivery_status?e("span",[t._v("确认收货")]):t._e()]):t._e(),30===t.item.order_status?e("div",[e("span",[t._v("评价")])]):t._e()])])},l=[],n={props:{item:{type:Object},totonum:{type:Number},totalPrice:{type:String}}},c=n,d=s(1656),u=(0,d.A)(c,o,l,!1,null,"d3004452",null),v=u.exports,m={name:"OrderPage",components:{OrderListItem:v},data(){return{active:this.$route.query.dataType||"all",page:1,list:[]}},watch:{active:{immediate:!0,handler(){this.getuserorder()}}},methods:{async getuserorder(){let t=await(0,r.s_)(this.active,this.page);this.list=t.data.list.data,console.log(this.list)}},computed:{totonum(){let t=0;return this.list.forEach((e=>{e.goods.forEach((e=>{t+=e.total_num}))})),t},totalPrice(){let t=0;return this.list.forEach((e=>{e.goods.forEach((e=>{t+=e.total_num*e.goods_price}))})),t=t.toFixed(2),t}},created(){this.getuserorder()}},_=m,p=(0,d.A)(_,a,i,!1,null,"28c9a2db",null),g=p.exports}}]);
//# sourceMappingURL=268.d83a1d9c.js.map